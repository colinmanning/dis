<?xml version="1.0" encoding="UTF-8"?>
<fulcrumConfig>
    <tmpFolder>/opt/dis/tmp</tmpFolder>
    <previewCacheFolder>/opt/dis/preview-cache</previewCacheFolder>
    <useDam>Cumulus</useDam>
    <serverPrefix></serverPrefix>
    <dams>
        <dam name="Cumulus">
            <baseUrl>http://localhost:8080/disweb</baseUrl>
            <managerClass>damcumulusapi.CumulusManager</managerClass>
            <connections>
                <connection name="sample">
                    <server>localhost</server>
                    <user>cumulus</user>
                    <password>cumulus</password>
                    <database>Sample Catalog</database>
                    <readOnly>false</readOnly>
                    <poolSize>-1</poolSize>
                    <accessControl public="true" />
                 </connection>
            </connections>
            <views>
                <view name="sync-data" locale="default">
                    <field name="Country Code" />
                    <field name="Series or Imprint" />                               
                    <field name="Format Group" />
                    <field name="Title" />
                    <field name="Author" />
                    <field name="ISBN" />
                    <field name="eISBN" />
                    <field name="Page Count" />
                    <field name="Word Count" />
                    <field name="Onsale" />
                    <preview>small</preview>
                    <preview>medium</preview>
                    <link>isbn</link>
                </view>
               <view name="isbn" locale="default">
                    <field name="ISBN" />
                    <field name="eISBN" />
               </view>
            </views>
        </dam>
    </dams>
    <databases>
        <database name="dis-db">
            <managerClass>com.setantamedia.fulcrum.db.impl.H2DbManager</managerClass>
            <connections>
                <connection name="main">
                    <server>localhost</server>
                    <user>sa</user>
                    <password>otec-europe</password>
                    <readonly>false</readonly>
                    <database>jdbc:h2:tcp://localhost/C:/dev/dis/web/disweb/web/WEB-INF/db/dis-db</database>
                    <readOnly>false</readOnly>
                    <poolSize>0</poolSize>
                </connection>
            </connections>
            <views>
            </views>
        </database>
    </databases>
    <queries>
        
    </queries>
    <previews>
        <preview name="small" format="png">
            <maxsize>200</maxsize>
        </preview>
        <preview name="medium" format="png">
            <maxsize>400</maxsize>
        </preview>
        <preview name="gallery" format="png">
            <size>200</size>
        </preview>
    </previews>

    <locations>
        <location name="absa-office-docs">
            <folder>C:\usr\local\office-docs</folder>
            <accessCode>gary</accessCode>
            <access>read-write</access>
            <monitor initialScan="true" scanSubFolders="true">
                <processClass>com.setantamedia.dis.workflow.locations.OfficeDocumentFileProcessor</processClass>
                <params>
                    <param name="categoryRoot" value="Office Documents" />
                    <param name="damConnection" value="absa" />
                    <param name="uploadProfile" value="Standard" />
                </params>
            </monitor>
        </location>
    </locations>
    <actions>
        <action name="colin-test">
            <processClass>colin.ColinTestAction</processClass>
            <params>
                <param name="dbName" value="sqlserver" />
                <param name="dbQuery" value="sql-get-isbn" />
                <param name="damQuery" value="cumulus-query-1" />
                <param name="dbView" value="pub" />
                <param name="damView" value="sync-data" />
                <param name="dbKeyField" value="ISBN" />
                <param name="damKeyField" value="ISBN" />
                <param name="dbField:Country_Code" value="damField:Country Code:replace" />
                <param name="dbField:HERS_format_group" value="damField:Format Group:replace" />
                <param name="dbField:Stories" value="damField:Title:append" />
                <param name="dbField:Story_Author" value="damField:Author:append" />
                <param name="dbField:TEXT_SET" value="damField:Page Count:replace" />
                <param name="dbField:Word_Count" value="damField:Word Count:replace" />
                <param name="dbField:On_Sale" value="damField:Onsale:replace:stringToDateTime" />
                <param name="dateTimeFormat" value="M/d/YYYY hh:mm:ss" />
            </params>
        </action>
    </actions>
    <workflows>
    </workflows>
</fulcrumConfig>
